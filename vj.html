<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Location Sharing</title>
</head>
<body>

<button onclick="shareLocation()">Share My Live Location</button>

<script>
function shareLocation() {
    if ("geolocation" in navigator) {
        navigator.geolocation.getCurrentPosition(function(position) {
            // Extract latitude and longitude from the position object
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;

            // Replace '1234567890' with the target phone number
            const phoneNumber = '918660750519'; // WhatsApp number including country code

            // Construct a URL with the location information
            const locationUrl = `https://maps.google.com?q=${latitude},${longitude}`;

            // Create a WhatsApp message with the location
            const message = `Sharing location: ${locationUrl}`;

            // Open WhatsApp Web with the pre-filled message
            openWhatsAppWeb(phoneNumber, message);
        }, function(error) {
            // Handle errors, if any
            console.error("Error getting location:", error.message);
        });
    } else {
        // Geolocation is not supported
        alert("Geolocation is not supported by your browser.");
    }
}

function openWhatsAppWeb(phoneNumber, message) {
    const url = `https://web.whatsapp.com/send?phone=${phoneNumber}&text=${encodeURIComponent(message)}`;

    // Open a new window or tab with WhatsApp Web
    window.open(url, '_blank');

    // Alternatively, you can redirect the current window to WhatsApp Web
    // window.location.href = url;
}
</script>

</body>
</html>
